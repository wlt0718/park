import{d as V,c as h,T as z,_ as A,l as C,r as b,b as l,h as s,F as N,x as S,w as x,o as c,t as f,y as I,z as j,n as E,v as F,e as M,p as U,j as $}from"./index-CaH_8xkB.js";import{P as H,s as K,a as D}from"./function-call-DzB4G9ER.js";import{c as L,t as q,a as G,I as P,w as J}from"./index-i7CzsY-N.js";import{H as O}from"./use-route-CTPBCNP3.js";import"./index-DXm8d4ii.js";const[Q,B]=L("tag"),R={size:String,mark:Boolean,show:q,type:G("default"),color:String,plain:Boolean,round:Boolean,textColor:String,closeable:Boolean};var W=V({name:Q,props:R,emits:["close"],setup(o,{slots:a,emit:k}){const p=d=>{d.stopPropagation(),k("close",d)},i=()=>o.plain?{color:o.textColor||o.color,borderColor:o.color}:{color:o.textColor,background:o.color},y=()=>{var d;const{type:u,mark:m,plain:g,round:n,size:e,closeable:r}=o,_={mark:m,plain:g,round:n};e&&(_[e]=e);const w=r&&h(P,{name:"cross",class:[B("close"),O],onClick:p},null);return h("span",{style:i(),class:B([_,u])},[(d=a.default)==null?void 0:d.call(a),w])};return()=>h(z,{name:o.closeable?"van-fade":void 0},{default:()=>[o.show?y():null]})}});const X=J(W),v=o=>(U("data-v-e7952e1a"),o=o(),$(),o),Y={class:"store"},Z={class:"item-left"},ee={class:"name"},te={class:"address"},se={class:"store-status"},oe={key:0,style:{color:"#67c23a"}},ae={key:1,style:{color:"#f56c6c"}},ne={key:2,style:{color:"#ED6A0C"}},ce={class:"item-right"},re=["onClick"],le={class:"footer"},de=v(()=>s("div",{class:"popuptitle"},"入驻新商家",-1)),ie={class:"from-item"},ue=v(()=>s("label",{for:"name",class:"from-label"}," 商家名称 ",-1)),me={class:"from-item"},pe=v(()=>s("div",{class:"from-label"}," 商家名称 ",-1)),_e={class:"from-input"},he={class:"from-item project"},fe=v(()=>s("div",{class:"from-label"}," 名下项目 ",-1)),ve={class:"from-project"},ke={__name:"enterStore",setup(o){const a=C([{id:0,merchantName:"上海欢乐谷",address:"上海市松江区林湖路888号",status:"1"},{id:1,merchantName:"上海迪士尼",address:"上海市松江区林湖路888号",status:"2"},{id:2,merchantName:"上海共青森林公园",address:"上海市松江区林湖路888号",status:"0"},{id:3,merchantName:"上海动物园",address:"上海市松江区林湖路888号",status:"0"},{id:4,merchantName:"上海人民公园",address:"上海市松江区林湖路888号",status:"0"},{id:5,merchantName:"上海市方特世界",address:"上海市松江区林湖路888号",status:"1"},{id:6,merchantName:"上海市环球港",address:"上海市松江区林湖路888号",status:"1"}]),k=C([{parentId:0,id:"100001",project:["欢乐谷游艇","欢乐谷摩天轮","欢乐谷恐龙乐园","欢乐谷天地双雄","欢乐谷小鲤鱼历险记","欢乐谷4D空间"]},{parentId:5,id:"100001",project:["方特世界游艇","方特世界摩天轮","方特世界恐龙乐园","方特世界天地双雄","方特世界小鲤鱼历险记","方特世界4D空间"]},{parentId:6,id:"100001",project:["环球港游艇","环球港摩天轮","环球港恐龙乐园","环球港4D空间"]}]),p=b(!1),i=C({name:"",project:[]});function y(n){const e=k.find(r=>r.parentId===n.id);i.name=n.merchantName,i.project=e.project,p.value=!0}function d(n){n.status==="0"?D({title:"提示",message:"商家还在审核中，是否删除？"}).then(()=>{const e=a.findIndex(r=>r.id===n.id);a.splice(e,1)}).catch(()=>{}):D({title:"提示",message:"该商家为无效商家，您不能参与其名下项目推广，是否删除？"}).then(()=>{const e=a.findIndex(r=>r.id===n.id);a.splice(e,1)}).catch(()=>{})}const u=b(!1),m=b("");function g(){if(m.value){const e={id:a[a.length-1].id+1,merchantName:m.value,address:"上海市松江区林湖路888号",status:"0"};a.push(e),u.value=!1}else{K({title:"提示",message:"商家名称不能为空"});return}}return(n,e)=>{const r=P,_=H,w=X;return c(),l(N,null,[s("div",Y,[(c(!0),l(N,null,S(a,t=>(c(),l("div",{class:"store-item",key:t.id},[s("div",Z,[s("div",ee,f(t.merchantName),1),s("div",te,f(t.address),1)]),s("div",se,[t.status==="1"?(c(),l("span",oe,"有效商家")):I("",!0),t.status==="2"?(c(),l("span",ae,"无效商家")):I("",!0),t.status==="0"?(c(),l("span",ne,"商家确认中")):I("",!0)]),s("div",ce,[t.status==="1"?(c(),l("div",{key:0,class:"look",onClick:T=>y(t)},"查看",8,re)):(c(),j(r,{key:1,name:"delete-o",class:"store-icon",onClick:T=>d(t)},null,8,["onClick"]))])]))),128))]),s("div",le,[s("button",{type:"button",class:"btn",onClick:e[0]||(e[0]=t=>u.value=!0)},"入驻新商家")]),h(_,{show:u.value,"onUpdate:show":e[2]||(e[2]=t=>u.value=t),position:"center",round:"",closeable:"",class:"popup"},{default:x(()=>[de,s("div",ie,[ue,E(s("input",{id:"name",class:"from-input",type:"text",placeholder:"请输入商家名称","onUpdate:modelValue":e[1]||(e[1]=t=>m.value=t)},null,512),[[F,m.value]])]),s("button",{type:"button",class:"btn",onClick:g},"确认入驻")]),_:1},8,["show"]),h(_,{show:p.value,"onUpdate:show":e[3]||(e[3]=t=>p.value=t),position:"center",round:"",closeable:"",class:"merchantPopup"},{default:x(()=>[s("div",me,[pe,s("div",_e,f(i.name),1)]),s("div",he,[fe,s("div",ve,[(c(!0),l(N,null,S(i.project,t=>(c(),j(w,{type:"primary",size:"medium",key:t},{default:x(()=>[M(f(t),1)]),_:2},1024))),128))])])]),_:1},8,["show"])],64)}}},Ne=A(ke,[["__scopeId","data-v-e7952e1a"]]);export{Ne as default};
