import{A as O,B as z,d as U,r as p,l as L,a as I,z as D,C as M,c as u,_ as q,u as A,o as w,e as g,w as N,h as i,F as B,q as E,k as F,t as _,f as H,s as R,p as W,j as Z}from"./index-Dea5ZOKR.js";import"./index-kQ9KykzH.js";import{C as G,a as J,D as K}from"./index-CMT6tfv6.js";import{_ as Q}from"./dsn-CtJRIpi-.js";import{u as X}from"./order-B4Ef47Vm.js";import{d as Y,o as ee,c as te,n as oe,b as se,m as $,f as ne,h as ae,e as ie,g as re,j as le,k as j,l as b,p as ce,q as de,r as ue,w as pe}from"./with-install-2TTXvwTy.js";import{I as fe}from"./index-BoIf3WRC.js";import"./use-expose-DTKosqHB.js";import"./index-ddabiPHW.js";import"./use-route-BPHKFUby.js";import"./constant-C5t5NxWu.js";import"./use-height-DBhW0gQT.js";import"./mount-component-BJ86wHID.js";function ve(n,h){if(!Y||!window.IntersectionObserver)return;const f=new IntersectionObserver(e=>{h(e[0].intersectionRatio>0)},{root:document.body}),a=()=>{n.value&&f.observe(n.value)},v=()=>{n.value&&f.unobserve(n.value)};O(v),z(v),ee(a)}const[me,he]=te("sticky"),_e={zIndex:oe,position:se("top"),container:Object,offsetTop:$(0),offsetBottom:$(0)};var xe=U({name:me,props:_e,emits:["scroll","change"],setup(n,{emit:h,slots:f}){const a=p(),v=ne(a),e=L({fixed:!1,width:0,height:0,transform:0}),c=p(!1),d=I(()=>ae(n.position==="top"?n.offsetTop:n.offsetBottom)),S=I(()=>{if(c.value)return;const{fixed:t,height:x,width:o}=e;if(t)return{width:`${o}px`,height:`${x}px`}}),V=I(()=>{if(!e.fixed||c.value)return;const t=ie(re(n.zIndex),{width:`${e.width}px`,height:`${e.height}px`,[n.position]:`${d.value}px`});return e.transform&&(t.transform=`translate3d(0, ${e.transform}px, 0)`),t}),C=t=>h("scroll",{scrollTop:t,isFixed:e.fixed}),y=()=>{if(!a.value||j(a))return;const{container:t,position:x}=n,o=b(a),l=ue(window);if(e.width=o.width,e.height=o.height,x==="top")if(t){const r=b(t),m=r.bottom-d.value-e.height;e.fixed=d.value>o.top&&r.bottom>0,e.transform=m<0?m:0}else e.fixed=d.value>o.top;else{const{clientHeight:r}=document.documentElement;if(t){const m=b(t),k=r-m.top-d.value-e.height;e.fixed=r-d.value<o.bottom&&r>m.top,e.transform=k<0?-k:0}else e.fixed=r-d.value<o.bottom}C(l)};return D(()=>e.fixed,t=>h("change",t)),le("scroll",y,{target:v,passive:!0}),ve(a,y),D([ce,de],()=>{!a.value||j(a)||!e.fixed||(c.value=!0,M(()=>{const t=b(a);e.width=t.width,e.height=t.height,c.value=!1}))}),()=>{var t;return u("div",{ref:a,style:S.value},[u("div",{class:he({fixed:e.fixed&&!c.value}),style:V.value},[(t=f.default)==null?void 0:t.call(f)])])}}});const we=pe(xe),ge=n=>(W("data-v-ea33f907"),n=n(),Z(),n),ye={class:"list"},ke=["onClick"],be={class:"header"},Se={class:"header-left"},Ve={class:"name"},Ce={class:"status"},Ie={key:0},De={key:1},Ne={class:"body"},Be=ge(()=>i("img",{src:Q,alt:""},null,-1)),Re={class:"info"},$e={class:"name"},je={class:"desc"},Pe={class:"desc"},Te={class:"desc"},Oe={class:"amt"},ze={__name:"order",setup(n){const h=A(),f=X(),a=p(0),v=p("z"),e=p("date"),c=p(!1),d=p("");function S(o){c.value=!1;const l=o[0].getMonth()+1+"月"+o[0].getDate()+"日",r=o[1].getMonth()+1+"月"+o[1].getDate()+"日";d.value=l+"-"+r}const V=o=>{console.log(o),o==="custom"&&(c.value=!0)},C=p([{text:"今日",value:"date"},{text:"本周",value:"week"},{text:"本月",value:"month"},{text:`自定义时间${d.value}`,value:"custom"}]),y=[{text:"全部商家",value:0},{text:"上海迪士尼",value:1},{text:"上海欢乐谷",value:2}],t=[{text:"全部状态",value:"z"},{text:"已下单",value:"x"},{text:"已完成",value:"c"}];function x(o){h.push({path:"/orderinfo",query:{id:o}})}return(o,l)=>{const r=J,m=K,k=we,P=G,T=fe;return w(),g(B,null,[u(k,null,{default:N(()=>[u(m,{"active-color":"#ee0a24"},{default:N(()=>[u(r,{modelValue:a.value,"onUpdate:modelValue":l[0]||(l[0]=s=>a.value=s),options:y},null,8,["modelValue"]),u(r,{modelValue:e.value,"onUpdate:modelValue":l[1]||(l[1]=s=>e.value=s),options:C.value,onChange:V},null,8,["modelValue","options"]),u(r,{modelValue:v.value,"onUpdate:modelValue":l[2]||(l[2]=s=>v.value=s),options:t},null,8,["modelValue"])]),_:1})]),_:1}),u(P,{show:c.value,"onUpdate:show":l[3]||(l[3]=s=>c.value=s),type:"range",onConfirm:S,color:"#ee0a24","allow-same-day":"",position:"top"},null,8,["show"]),i("div",ye,[(w(!0),g(B,null,E(F(f).list,s=>(w(),g("div",{class:"item",key:s.id,onClick:Ue=>x(s.id)},[i("div",be,[i("div",Se,[i("div",Ve,_(s.merchantName),1),u(T,{name:"arrow"})]),i("div",Ce,[H("订单状态： "),s.status==="0"?(w(),g("span",Ie,"已下单")):R("",!0),s.status==="1"?(w(),g("span",De,"已完成")):R("",!0)])]),i("div",Ne,[Be,i("div",Re,[i("div",$e,_(s.projectName),1),i("div",je,"价格：￥"+_(s.projectjiage)+"/ 位",1),i("div",Pe,"下单人："+_(s.person),1),i("div",Te,"数量：x "+_(s.projectNum),1)]),i("div",Oe,[i("div",null,"￥"+_(s.allAmount),1)])])],8,ke))),128))])],64)}}},Xe=q(ze,[["__scopeId","data-v-ea33f907"]]);export{Xe as default};
