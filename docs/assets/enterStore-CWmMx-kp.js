import{d as H,c as d,T as U,_ as F,l as I,r as h,b as c,h as s,F as S,s as D,w as k,o as l,t as g,x as j,y as P,n as M,v as K,e as L,p as O,j as W}from"./index-PxswfuWn.js";import{s as q}from"./index-Bve-5ru4.js";import{P as G,s as J,a as B}from"./function-call-_nCAEx-c.js";import{w as z,c as Q,t as R,b as X,I as $}from"./index-CIAfUPUf.js";import{H as Y}from"./use-route-BMdZwbVx.js";import"./index-xJjYtX1w.js";const Z=z(q),[ee,T]=Q("tag"),te={size:String,mark:Boolean,show:R,type:X("default"),color:String,plain:Boolean,round:Boolean,textColor:String,closeable:Boolean};var se=H({name:ee,props:te,emits:["close"],setup(o,{slots:n,emit:C}){const f=i=>{i.stopPropagation(),C("close",i)},p=()=>o.plain?{color:o.textColor||o.color,borderColor:o.color}:{color:o.textColor,background:o.color},y=()=>{var i;const{type:v,mark:u,plain:b,round:m,size:_,closeable:x}=o,a={mark:u,plain:b,round:m};_&&(a[_]=_);const e=x&&d($,{name:"cross",class:[T("close"),Y],onClick:f},null);return d("span",{style:p(),class:T([a,v])},[(i=n.default)==null?void 0:i.call(n),e])};return()=>d(U,{name:o.closeable?"van-fade":void 0},{default:()=>[o.show?y():null]})}});const oe=z(se),w=o=>(O("data-v-981dff4d"),o=o(),W(),o),ae={class:"store"},ne={class:"item-left"},le={class:"name"},re={class:"address"},ce={class:"store-status"},de={key:0,style:{color:"#67c23a"}},ie={key:1,style:{color:"#f56c6c"}},ue={key:2,style:{color:"#ED6A0C"}},me={class:"item-right"},pe=["onClick"],ve={class:"footer"},fe=w(()=>s("div",{class:"popuptitle"},"入驻新商家",-1)),_e=w(()=>s("label",{for:"name",class:"from-label"}," 商家： ",-1)),he={class:"from-item"},ke=w(()=>s("div",{class:"from-label"}," 商家名称 ",-1)),ge={class:"from-input"},we={class:"from-item project"},Ce=w(()=>s("div",{class:"from-label"}," 名下项目 ",-1)),ye={class:"from-project"},be={__name:"enterStore",setup(o){const n=I([{id:0,merchantName:"上海欢乐谷",address:"上海市松江区林湖路888号",status:"1"},{id:1,merchantName:"上海迪士尼",address:"上海市松江区林湖路888号",status:"2"},{id:2,merchantName:"上海共青森林公园",address:"上海市松江区林湖路888号",status:"0"},{id:3,merchantName:"上海动物园",address:"上海市松江区林湖路888号",status:"0"},{id:4,merchantName:"上海人民公园",address:"上海市松江区林湖路888号",status:"0"},{id:5,merchantName:"上海市方特世界",address:"上海市松江区林湖路888号",status:"1"},{id:6,merchantName:"上海市环球港",address:"上海市松江区林湖路888号",status:"1"}]),C=I([{parentId:0,id:"100001",project:["欢乐谷游艇","欢乐谷摩天轮","欢乐谷恐龙乐园","欢乐谷天地双雄","欢乐谷小鲤鱼历险记","欢乐谷4D空间"]},{parentId:5,id:"100001",project:["方特世界游艇","方特世界摩天轮","方特世界恐龙乐园","方特世界天地双雄","方特世界小鲤鱼历险记","方特世界4D空间"]},{parentId:6,id:"100001",project:["环球港游艇","环球港摩天轮","环球港恐龙乐园","环球港4D空间"]}]),f=h(!1),p=I({name:"",project:[]});function y(a){const e=C.find(r=>r.parentId===a.id);p.name=a.merchantName,p.project=e.project,f.value=!0}function i(a){a.status==="0"?B({title:"提示",message:"商家还在审核中，是否删除？"}).then(()=>{const e=n.findIndex(r=>r.id===a.id);n.splice(e,1)}).catch(()=>{}):B({title:"提示",message:"该商家为无效商家，您不能参与其名下项目推广，是否删除？"}).then(()=>{const e=n.findIndex(r=>r.id===a.id);n.splice(e,1)}).catch(()=>{})}const v=h(!1),u=h("");function b(){if(u.value){const e={id:n[n.length-1].id+1,merchantName:u.value,address:"上海市松江区林湖路888号",status:"0"};n.push(e),v.value=!1}else{J({title:"提示",message:"商家名称不能为空"});return}}const m=h(!1),_=[{text:"香港迪士尼",value:"Hangzhou"},{text:"上海滴水湖",value:"Ningbo"},{text:"北京圆明园",value:"Wenzhou"},{text:"杭州西湖",value:"Shaoxing"},{text:"湖北神农架",value:"Huzhou"}],x=a=>{u.value=a.selectedOptions[0].text,m.value=!1};return(a,e)=>{const r=$,N=G,V=oe,A=Z;return l(),c(S,null,[s("div",ae,[(l(!0),c(S,null,D(n,t=>(l(),c("div",{class:"store-item",key:t.id},[s("div",ne,[s("div",le,g(t.merchantName),1),s("div",re,g(t.address),1)]),s("div",ce,[t.status==="1"?(l(),c("span",de,"有效商家")):j("",!0),t.status==="2"?(l(),c("span",ie,"无效商家")):j("",!0),t.status==="0"?(l(),c("span",ue,"商家确认中")):j("",!0)]),s("div",me,[t.status==="1"?(l(),c("div",{key:0,class:"look",onClick:E=>y(t)},"查看",8,pe)):(l(),P(r,{key:1,name:"delete-o",class:"store-icon",onClick:E=>i(t)},null,8,["onClick"]))])]))),128))]),s("div",ve,[s("button",{type:"button",class:"btn",onClick:e[0]||(e[0]=t=>v.value=!0)},"入驻新商家")]),d(N,{show:v.value,"onUpdate:show":e[3]||(e[3]=t=>v.value=t),position:"center",round:"",closeable:"",class:"popup"},{default:k(()=>[fe,s("div",{class:"from-item",onClick:e[2]||(e[2]=t=>m.value=!0)},[_e,M(s("input",{id:"name",class:"from-input",type:"text",placeholder:"请选择商家","onUpdate:modelValue":e[1]||(e[1]=t=>u.value=t),readonly:""},null,512),[[K,u.value]]),d(r,{name:"arrow",class:"right-icon"})]),s("button",{type:"button",class:"btn",onClick:b},"确认入驻")]),_:1},8,["show"]),d(N,{show:f.value,"onUpdate:show":e[4]||(e[4]=t=>f.value=t),position:"center",round:"",closeable:"",class:"merchantPopup"},{default:k(()=>[s("div",he,[ke,s("div",ge,g(p.name),1)]),s("div",we,[Ce,s("div",ye,[(l(!0),c(S,null,D(p.project,t=>(l(),P(V,{type:"primary",size:"medium",key:t},{default:k(()=>[L(g(t),1)]),_:2},1024))),128))])])]),_:1},8,["show"]),d(N,{show:m.value,"onUpdate:show":e[6]||(e[6]=t=>m.value=t),round:"",position:"bottom"},{default:k(()=>[d(A,{columns:_,onCancel:e[5]||(e[5]=t=>m.value=!1),onConfirm:x})]),_:1},8,["show"])],64)}}},Pe=F(be,[["__scopeId","data-v-981dff4d"]]);export{Pe as default};
